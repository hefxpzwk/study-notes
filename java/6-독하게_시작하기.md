# 6. 독하게 시작하기









## 객체, 클래스, 인스턴스, 참조 - 용어정리

```java
String d3 = new String("hello");
```

👆️이 코드로 설명을 해보겠다.



일단 저렇게 되면 **jvm의 메모리**에는 어떻게 되어있냐?

```
스택(Stack) 영역         힙(Heap) 영역
-----------------------------------------
d3 : 객채의메모리주소      [객체: "hello"] 
```

이런식으로 저장되어있다.



### 객체

먼저 **new**는 **새로운 객체**를 생성하는 명령어이다.
자 그럼 객체는 무엇인가? 

**객체** = 메모리에 있는 **실제 데이터가 저장된 공간**

즉 **heap 메모리** 안에 생긴 **"hello"**라는 값을 가지고있는 저 공간을 바로 **객체**라고한다.



### 참조/참조자

그러면 **d3**라는 변수는 뭐를 저장하고 있냐?
그 객체의 주소("hello"라는 값을 가지고 있는 메모리 공간의 주소)를 저장하고 있다.

그리고 이 d3는 **참조자** 라고 부를 수 있다. **변수**이기도 하다.



### 인스턴스

**인스턴스**는 뭐냐 그러면, **객채랑** 똑같다.

그런데 **어떻게 부르느냐** 뭘 더 **강조**할거냐 뭐 이런것들을 신경쓸때 **인스턴스**라고 한다.

**클래스와의 관계**를 표현할때 쓴다.

예를 들어 예시로 보자면 

**String 클래스의 인스턴스** = 객체

**d3**는 새로 생성된 **String 클래스의 인스턴스**의 참조자이다.



### class

class 는 뭐냐 그러면

클래스는 **객체를 만들기위한 방법**이라고 생각혀면 된다. 도구 느낌이다.

**객체가 구현할 대상**이 되는고 
그 객체가 왜 존재하는지에 다른 *변수, 메서드(함수), 코드* 뭐 이런 것들이 필요할것이다.

그 필요한 것들은 **한곳에 모아둔것이 class** 이다. 즉 class 가 있으면 객체를 만들 수 잇겠지 **도구 방법 툴** 뭐이런 식으로 생각하면 된다.

```java
class Person {
    String name;
    int age;

    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}

public class Main {
    public static void main(String[] args) {
        Person d3 = new Person("건희", 25); // Person의 인스턴스 생성
        Person b2 = new Person("민수", 30); // 또 다른 인스턴스 생성
    }
}

```

이 코드로 모든것을 설명할수 있다. 역시

**d3는 person 클래스의 인스턴스의 참조자**

**b2는 person 클래스의 인스턴스 의 참조자**
이렇게 부를 수 잇다.



근데 나는 여기서 하나가 궁금해졌다.
아까 처음 코드에서 

```java
String d3 = new String("hello");
System.out.println(d3);
```

이걸 하면 출력이 **"hello"**가 나온다.
**d3**에는 객체의 주소가 담겨있는데 왜 주소가 아니라 그 객체의 값이 출력될까?
왜냐하면 String 클래스에는 **toString()**이라는 메서드가 있기 때문이다.

그래서 String이 아니라 **개발자가 만든 클래스**에서는 **주소 비스무리**하게 출력될 수가 있다.예시는 아래 코드를 봐라

```java
class Person {
    String name;
    int age;

    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}

public class Main {
    public static void main(String[] args) {
        Person d3 = new Person("건희", 25); // Person의 인스턴스 생성
        Person b2 = new Person("민수", 30); // 또 다른 인스턴스 생성

        System.out.println(d3);
        System.out.println(b2);
    }
}
```

```
Person@5caf905d
Person@27716f4=
```

이런식으로 출력되는것을 볼 수 있다.



방금 주소 비스무리하게 출력된다고 했는데 왜냐하면

java는 **메모리의 안정성**을 중요시하기 떄문이다. 
c언어처럼 메모리 주소를 직접 조작하면 시스템해킹에서의 **취약점**이나 c언어의 **문제점**이 그대로 있다.
다른 객체의 메모리를 조작할 수도 있는등의 문제로 **java는 참조값**을 직접 노출하지 않는다.

jvm이 주소를 내부적으로 관리하고 우리는 **참조변수**만 사용한다.

만약 개발자가 정확한 주소를 알고싶어도 알 수 없다. java가 그걸 막고 있다.

참조인 상황 뿐만아니라 모든상황에서 **메모리에 관련된**것은 **개발자**가 조정할 수 없다.

